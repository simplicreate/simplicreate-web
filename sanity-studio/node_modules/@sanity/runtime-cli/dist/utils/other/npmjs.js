import { createTracedFetch } from '../traced-fetch.js';
export async function getLatestNpmVersion(pkg, logger) {
    const fetchFn = createTracedFetch(logger);
    const url = `https://registry.npmjs.org/${pkg}/latest`;
    try {
        const res = await fetchFn(url);
        if (!res.ok)
            throw new Error(`Failed to fetch version for ${pkg}`);
        const data = await res.json();
        return data.version;
    }
    catch {
        return 'latest';
    }
}
